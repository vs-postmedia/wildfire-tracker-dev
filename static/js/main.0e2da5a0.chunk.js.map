{"version":3,"sources":["fonts/BentonSansCond-Regular.otf","fonts/BentonSansCond-RegItalic.otf","fonts/BentonSansCond-Bold.otf","fonts/BentonSansCond-BoldItalic.otf","fonts/Shift-Bold.otf","fonts/Shift-BoldItalic.otf","components/WildfireTooltip/WildfireTooltip.js","components/CircleMap/CircleMap.js","components/SummaryBox/SummaryBox.js","components/FireListing/FireListing.js","components/WildfireMap/WildfireMap.js","components/WildfireTracker/WildfireTracker.js","data/mapbox-config.js","components/App/App.js","serviceWorker.js","index.js"],"names":["module","exports","WildfireTooltip","props","GEOGRAPHIC","FIRE_STATU","toLowerCase","replace","size","CURRENT_SI","toFixed","checkSize","ignition_date","text","FIRE_CAUSE","CircleMap","state","popup","mapboxgl","Popup","closeButton","closeOnClick","showPopup","bind","hidePopup","data","this","extent_calcuted","range","accessToken","config","map","Map","center","container","mapContainer","maxZoom","minZoom","style","mapboxStyle","zoom","features","renderMap","prevProps","mapIsLoaded","getSource","setData","selectedFeature","console","log","flyToLocation","currentFeature","flyTo","geometry","coordinates","fire_size","forEach","d","push","parseFloat","properties","Math","min","max","getCanvas","cursor","remove","extent","value","getExtent","i","radius","mapRange","sort","a","b","e","sidebarClick","coords","lng","lat","setupPopupText","lngLat","setLngLat","setHTML","addTo","prepData","on","addSource","type","addLayer","id","source","paint","addControl","NavigationControl","setState","ref","el","Component","SummaryBox","fire_stats","stats","out_fires","new_fires","held_fires","controlled_fires","last_update","hectares_burned","reduce","sum","item","km_burned","total_fires","length","ts","timestamp","Date","parseInt","month","month_num","getUTCMonth","toLocaleDateString","split","getUTCFullYear","toLocaleTimeString","returnCurrentTime","calculateFireStats","className","onClick","toggleFireTypeHandler","buttonStatus","toggleSidebar","sidebar","document","getElementById","target","FireListing","list","fon","filter","clickHandler","round","name","fire_name","sizeText","key","fire_id","location","ListItem","onChange","htmlFor","window","innerWidth","WildfireTracker","map_options","classField","circleMarkerClassField","data_all","data_fon","selected_feature","Axios","get","currentData","then","resp","noOut","setupFiresOfNote","promises","fonData","firePerimeters","all","results","fon_data","url","includes","fires_of_note","FIRE_NT_ID","fire_class","data_array","fire_status","parentNode","fire_data","data_displayed","filterFireData","mapboxConfig","tiles","mapbox_config","App","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0e2da5a0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/BentonSansCond-Regular.43cd4ac7.otf\";","module.exports = __webpack_public_path__ + \"static/media/BentonSansCond-RegItalic.69a4217c.otf\";","module.exports = __webpack_public_path__ + \"static/media/BentonSansCond-Bold.6f6753fd.otf\";","module.exports = __webpack_public_path__ + \"static/media/BentonSansCond-BoldItalic.a6640d89.otf\";","module.exports = __webpack_public_path__ + \"static/media/Shift-Bold.cdd38a86.otf\";","module.exports = __webpack_public_path__ + \"static/media/Shift-BoldItalic.5c3edbfd.otf\";","// import React from 'react';\nimport './WildfireTooltip.css';\n\nconst WildfireTooltip = (props) => {\n\treturn `\n\t\t<div>\n\t\t\t<h3>${props.GEOGRAPHIC}</h3>\n\t\t\t<p class=\"status ${props.FIRE_STATU.toLowerCase().replace(/\\s/g, '-')}\">Status: ${props.FIRE_STATU}</p>\n\t\t\t<p>A fire of ${checkSize(props)} square kilometres started on ${props.ignition_date}.</p>\n\n\t\t\t<p>Suspected cause: ${formatFireCause(props.FIRE_CAUSE)}</p>\n\t\t</div>\n\t`;\n};\n\nfunction checkSize(props) {\n\tlet size = (props.CURRENT_SI / 100).toFixed(2);\n\treturn size < 0.01 ? 'less than 0.01' : size;\n}\n\nfunction formatFireCause(text) {\n\treturn text === '' ? 'unknown' : text.toLowerCase();\n}\n\nexport default WildfireTooltip;","import React, { Component } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport WildfireTooltip from '../WildfireTooltip/WildfireTooltip';\n\nimport './CircleMap.css';\n\n//srs=EPSG:3857&\nlet wmsLayer = 'https://openmaps.gov.bc.ca/geo/pub/WHSE_HUMAN_CULTURAL_ECONOMIC.EMRG_ORDER_AND_ALERT_AREAS_SP/ows?service=WMS&request=GetMap&srs=EPSG:3005&\\\nformat=image/png&height=450&width=750&transparent=true&\\\nlayers=pub:WHSE_HUMAN_CULTURAL_ECONOMIC.EMRG_ORDER_AND_ALERT_AREAS_SP&\\\nbbox=-139.0522011144566932,47.6321414425716867,-110.4276991602271494,60.5985243564883049'\n\nexport class CircleMap extends Component {\n\tmap;\n\tstate = {};\n\t// prep the popup\n\tpopup = new mapboxgl.Popup({\n\t\tcloseButton: false,\n\t\tcloseOnClick: false\n\t});\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// bind popup to main component\n\t\tthis.showPopup = this.showPopup.bind(this);\n\t\tthis.hidePopup = this.hidePopup.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tconst data = this.props.data;\n\n\t\t// extents for circles\n\t\tthis.extent_calcuted = false;\n\t\t// set the min/max sizes for circles\n\t\tthis.range = this.props.range ? this.props.range : [3,50];\n\n\t\t// API key\n\t\tmapboxgl.accessToken = this.props.config.accessToken;\n\t\t\n\t\tthis.map = new mapboxgl.Map({\n\t\t\t// container: this.props.container,\n\t\t\tcenter: [this.props.center[1], this.props.center[0]],\n\t\t\tcontainer: this.mapContainer,\n\t\t\tmaxZoom: this.props.maxZoom,\n\t\t\tminZoom: this.props.minZoom,\n\t\t\tstyle: this.props.mapboxStyle,\n\t\t\t\n      \t\tzoom: this.props.zoom\n\t\t});\n\n\t\t// render the map\n\t\tif (data.features) {\n\t\t\tthis.renderMap(data);\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.state.mapIsLoaded) {\n\t\t\tif (this.props.data !== prevProps.data) {\n\t\t\t    this.map.getSource('wildfires').setData(this.props.data);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.renderMap(this.props.data);\n\t\t}\n\n\t\t// has a feature been selected?\n\t\tif (this.props.selectedFeature && this.props.selectedFeature !== prevProps.data) {\n\t\t\tconsole.log(this.props.selectedFeature);\n\t\t\tthis.flyToLocation(this.props.selectedFeature);\n\t\t\tthis.showPopup(this.props.selectedFeature, true)\n\t\t}\n\t}\n\n\tflyToLocation(currentFeature) {\n\t\tthis.map.flyTo({\n\t\t\tcenter: currentFeature.geometry.coordinates,\n\t\t\tzoom: 8\n\t\t});\n\t}\n\t\n\tgetExtent(data) {\n\t\tlet fire_size = [];\n\n\t\tdata.forEach(d => {\n\t\t\tfire_size.push(parseFloat(d.properties.CURRENT_SI));\n\t\t});\n\t\treturn [Math.min(...fire_size), Math.max(...fire_size)];\n\t}\n\n\thidePopup() {\n\t\tthis.map.getCanvas().style.cursor = '';\n\t\tthis.popup.remove();\n\t}\n\n\tmapRange(extent, range, value) {\n\t\treturn range[0] + (value - extent[0]) * (range[1] - range[0]) / (extent[1] - extent[0]);\n\t}\n\t\n\tprepData(data) {\n\t\t// we only want to calculate the extent once, otherwise the circle size changes when toggling by fire_type, which is confusing\n\t\tif (!this.extent_calcuted) {\n\t\t\tthis.extent = this.getExtent(data.features);\n\t\t\tthis.extent_calcuted = true;\n\t\t}\n\n\t\t// calculate circle size\n\t\tdata.features.forEach((d,i) => {\n\t\t\tconst radius = this.mapRange(this.extent, this.range, d.properties.CURRENT_SI);\n\t\t\td.properties.radius = Math.log(radius) * 4;\n\t\t});\n\n\t\t// reorder array by CURRENT_SI, largest -> smallest\n\t\tdata.features.sort((a,b) => {\n\t\t\treturn b.CURRENT_SI - a.CURRENT_SI;\n\t\t});\n\t}\n\n\tsetupPopupText(properties) {\n\t\treturn WildfireTooltip(properties);\n\t}\n\n\tshowPopup(e, sidebarClick) {\n\t\tlet coords, text;\n\n\t\tif (sidebarClick) {\n\t\t\tcoords = {\n\t\t\t\tlng: e.geometry.coordinates[0],\n\t\t\t\tlat: e.geometry.coordinates[1]\n\t\t\t}\n\t\t\ttext = this.setupPopupText(e.properties);\n\t\t} else {\n\t\t\tcoords = e.lngLat;\n\t\t\ttext = this.setupPopupText(e.features[0].properties);\n\t\t}\n\t\t// change cursor style as UI indicator\n\t\tthis.map.getCanvas().style.cursor = 'pointer';\n\n\t\t// set coords based on mouse position\n\t\tthis.popup.setLngLat(coords)\n\t\t\t// popup content to be displayed\n\t\t\t.setHTML(text)\n\t\t\t.addTo(this.map)\n\t}\n\n\trenderMap(data) {\n\t\tthis.prepData(data);\n\n\t\t// add fire location\n\t\tthis.map.on('load', () => {\n\t\t\t// BC govt evac & alerts wms layer\n\t\t\t// this.map.addSource('evacs-alerts', {\n\t\t\t// \t'scheme': 'tms',\n\t\t\t// \t'tiles': [wmsLayer],\n\t\t\t// \t'tileSize': 256,\n\t\t\t// \ttype: 'raster'\n\t\t\t// });\n\t\t\t// this.map.addLayer({\n\t\t\t// \t'id': 'wms-layer-id',\n\t\t\t// \t'type': 'raster',\n\t\t\t// \t'source': 'evacs-alerts',\n\t\t\t// \t'paint': {}\n\t\t\t// });\n\n\t\t\t// wildfires\n\t\t\tthis.map.addSource('wildfires', {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: data\n\t\t\t});\n\t\t\tthis.map.addLayer({\n\t\t\t\tid: 'wildfires',\n\t\t\t\ttype: 'circle',\n\t\t\t\tsource: 'wildfires',\n\t\t\t\tpaint: {\n\t\t\t\t\t'circle-color': [\n\t\t\t\t\t\t'match',\n\t\t\t\t\t\t['get', 'FIRE_STATU'],\n\t\t\t\t\t\t'New',\n\t\t\t\t\t\t'#DD2D25',\n\t\t\t\t\t\t'Out of Control',\n\t\t\t\t\t\t'#DD2D25',\n\t\t\t\t\t\t'Being Held',\n\t\t\t\t\t\t'#F26B21',\n\t\t\t\t\t\t'Under Control',\n\t\t\t\t\t\t'#0062A3',\n\t\t\t\t\t\t'Out',\n\t\t\t\t\t\t'#6D6E70',\n\t\t\t\t\t\t/* other */ '#F6B31C'\n\t\t\t\t\t],\n\t\t\t\t\t'circle-opacity': 0.7,\n\t\t\t\t\t// probably a better way to do this...\n\t\t\t\t\t'circle-radius': [\n\t\t\t\t\t\t'*',\n\t\t\t\t\t\t['get', 'radius'],\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t'circle-stroke-width': 0.5,\n\t\t\t\t\t'circle-stroke-color': '#FFF'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Add zoom and rotation controls to the map.\n\t\t\tthis.map.addControl(new mapboxgl.NavigationControl());\n\n\t\t\t// show & hide the popup\n\t\t\tthis.map.on('mouseenter', 'wildfires', this.showPopup);\n\t\t\tthis.map.on('mouseleave', 'wildfires', this.hidePopup);\n\t\t});\n\n\t\tthis.setState({\n\t\t\tmapIsLoaded: true\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div ref={el => this.mapContainer = el} />\n\t\t);\n\t}\n}\n\n\nexport default CircleMap;","import React from 'react';\nimport './SummaryBox.css';\n\nconst SummaryBox = (props) => {\n\tconst fire_stats = calculateFireStats(props);\n\n\treturn (\n\t\t<div className=\"summary-box\" onClick={props.toggleFireTypeHandler}>\n\t\t\t<h2>Latest wildfire stats</h2>\n\t\n\t\t\t<div className=\"stat-box\">\n\t\t\t\t<div className=\"stat\">\n\t\t\t\t\t<p className=\"big-num new\">{fire_stats.new_fires}</p>\n\t\t\t\t\t<p className=\"label\">New</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"stat\">\n\t\t\t\t\t<p className=\"big-num being-held\">{fire_stats.held_fires}</p>\n\t\t\t\t\t<p className=\"label\">Held</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"stat\">\n\t\t\t\t\t<p className=\"big-num under-control\">{fire_stats.controlled_fires}</p>\n\t\t\t\t\t<p className=\"label\">Controlled</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"stat\">\n\t\t\t\t\t<p className=\"big-num out\">{fire_stats.out_fires}</p>\n\t\t\t\t\t<p className=\"label\">Out*</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p className=\"last-update\">Last updated: {fire_stats.last_update}</p>\n\t\t\t<p className=\"note\">Source: B.C. Wildfire Service. Note: *Tap to toggles views.</p>\n\t\t</div>\n\t);\n}\n\nfunction calculateFireStats(props) {\n\tlet stats = {\n\t\tout_fires: 0,\n\t\tnew_fires: 0,\n\t\theld_fires: 0,\n\t\tcontrolled_fires: 0,\n\t\tlast_update: 'Waiting for data...'\n\t}\n\t\n\tif (props.data.features) {\n\t\tconst data = props.data.features;\n\n\t\tlet hectares_burned = data.reduce((sum, item) => {\n\t\t\treturn sum + parseFloat(item.properties.CURRENT_SI);\n\t\t}, 0);\n\n\t\tstats.km_burned = (hectares_burned / 100).toFixed(0);\n\t\tstats.total_fires = data.length + 1;\n\n\t\tstats.last_update = data.length > 0 ? returnCurrentTime(data[0].properties.last_update) : 'Not available';\n\n\t\tfor (let i = 0; i < data.length; ++i) {\n\t\t\tif (data[i].properties.FIRE_STATU === 'New' | data[i].properties.FIRE_STATU === 'Out of Control' | data[i].properties.FIRE_STATU === 'Fire of Note') {\n\t\t\t\tstats.new_fires++;\n\t\t\t} else if (data[i].properties.FIRE_STATU === 'Being Held') {\n\t\t\t\tstats.held_fires++;\n\t\t\t} else if (data[i].properties.FIRE_STATU === 'Under Control') {\n\t\t\t\tstats.controlled_fires++;\n\t\t\t} else {\n\t\t\t\tstats.out_fires++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn stats;\n}\n\nfunction returnCurrentTime(ts) {\n\tconst timestamp = new Date(parseInt(ts));\n\tconst month = returnMonth(timestamp.getUTCMonth());\n\n\treturn `${month} ${timestamp.toLocaleDateString().split('/')[1]}, ${timestamp.getUTCFullYear()} at ${timestamp.toLocaleTimeString()}`\n}\n\nfunction returnMonth(month_num) {\n\tconst month_lookup = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n\treturn month_lookup[parseInt(month_num)];\n}\n\n\nexport default SummaryBox;\n","import React from 'react';\nimport './FireListing.css';\n\n\nlet buttonStatus = 'open';\nconst FireListing = (props) => {\n\t// console.log(props.data)\n\tlet list;\n\tconst fon = props.data.length > 0 ? props.data.filter(d => d.properties.FIRE_STATU === 'Fire of Note') : [];\n\n\t// NO FON? HIDE SIDEBAR\n\tif (fon.length > 0) {\n\t\t// YES FON\n\t\tlist = fon.sort((a,b) => {\n\t\t\t\treturn b.properties.CURRENT_SI - a.properties.CURRENT_SI\n\t\t\t})\n\t\t\t.map(d => {\n\t\t\t\treturn ListItem(d.properties, props.flyToLocation);\n\t\t\t});\t\n\t} else {\n\t\t// hide sidebar\n\t\tlist = <li className=\"no-fires\">Currently there are no fires of note in B.C.</li>\n\t}\n\n\n\treturn (\n\t\t<div className=\"sidebar\">\n\t\t\t<div className=\"header\">\n\t\t\t\t<h2>Fires of Note</h2>\n\t\t\t\t<div className=\"button\">\n\t\t\t\t\t<input type=\"checkbox\" id=\"switch\" className=\"open\" onChange={toggleSidebar} /><label htmlFor=\"switch\"></label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ul id=\"listings\" className={`listings ${buttonStatus}`}>\n\t\t\t\t{list}\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n\nfunction ListItem(data, clickHandler) {\n\tconst size = Math.round((data.CURRENT_SI / 100) * 10) / 10;\n\tconst name = data.fire_name; // data.fire_name.split(' (')[0]\n\n\tconst sizeText = size > 0.1 ? `${size} sq. km` : 'Spot fire';\n\treturn (\n\t\t<li key={data.fire_id} id={data.fire_id} className=\"item\" onClick={clickHandler}>\n\t\t\t<h4 className=\"title\">{name}</h4>\n\t\t\t<p className=\"size\">{sizeText}</p>\n\t\t\t<p className=\"location\">{data.location}</p>\n\t\t</li>\n\t);\n}\n\nfunction toggleSidebar(e) {\n\tconsole.log(e)\n\tconst sidebar = document.getElementById('listings');\n\n\tif (buttonStatus === 'open') {\n\t\te.target.className = 'closed';\n\t\tsidebar.className = 'listings closed';\n\t\tbuttonStatus = 'closed';\n\t} else {\n\t\te.target.className = 'open';\n\t\tsidebar.className = 'listings open';\n\t\tbuttonStatus = 'open';\n\t}\n}\n\nexport default FireListing;\n","import React, { Component, Fragment } from 'react';\nimport CircleMap from '../CircleMap/CircleMap';\nimport SummaryBox from '../SummaryBox/SummaryBox';\nimport FireListing from '../FireListing/FireListing';\nimport './WildfireMap.css';\n\n\nlet zoom = window.innerWidth > 400 ? 5 : 4;\nlet center = window.innerWidth > 400 ? [51.5, -124] : [54, -125];\n\nexport class WildfireTracker extends Component {\n\tmap_options = {\n\t\tcenter: center,\n\t\tclassField: 'FIRE_STATU',\n\t\tmaxZoom: 8,\n\t\tminZoom: 4,\n\t\tzoom: zoom\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<h1>B.C. Wildfire Tracker</h1>\n\n\t\t\t\t<CircleMap\n\t\t\t\t\tcenter={this.map_options.center}\n\t\t\t\t\tcircleMarkerClassField={this.map_options.classField}\n\t\t\t\t\tconfig={this.props.config}\n\t\t\t\t\tcontainer=\"mapview\"\n\t\t\t\t\tdata={this.props.data}\n\t\t\t\t\tmapboxStyle={this.props.mapboxStyle}\n\t\t\t\t\tmaxZoom={this.map_options.maxZoom}\n\t\t\t\t\tminZoom={this.map_options.minZoom}\n\t\t\t\t\tselectedFeature={this.props.selectedFeature}\n\t\t\t\t\tzoom={this.map_options.zoom}>\n\t\t\t\t</CircleMap>\n\n\t\t\t\t<SummaryBox\n\t\t\t\t\tdata={this.props.data_all}\n\t\t\t\t\ttoggleFireTypeHandler={this.props.toggleFireTypeHandler}>\n\t\t\t\t</SummaryBox>\n\n\t\t\t\t<FireListing\n\t\t\t\t\tdata={this.props.data_fon}\n\t\t\t\t\tflyToLocation={this.props.flyToLocation}>\n\t\t\t\t</FireListing>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\nexport default WildfireTracker;\n","import React, { Component, Fragment } from 'react';\nimport Axios from 'axios'\nimport WildfireMap from '../WildfireMap/WildfireMap';\n\nexport class WildfireTracker extends Component {\n\n\tstate = {\n\t\tdata: [],\n\t\tdata_all: [],\n\t\tdata_fon: [],\n\t\tselected_feature: null\n\t}\n\n\tcomponentDidMount() {\n\t\tAxios.get(this.props.currentData)\n\t\t\t.then(resp => {\n\t\t\t\t// filter \"out\" fires so they don't overwhelm map\n\t\t\t\tconst noOut = {\n\t\t\t\t\ttype: 'FeatureCollection',\n\t\t\t\t\tfeatures: resp.data.features.filter(d => d.properties.FIRE_STATU !== 'Out')\n\t\t\t\t};\n\n\t\t\t\t// update our state with the new data\n\t\t\t\tthis.setState({\n\t\t\t\t\tdata: noOut,\n\t\t\t\t\tdata_all: resp.data,\n\t\t\t\t});\n\n\t\t\t\tthis.setupFiresOfNote(resp.data);\n\t\t\t});\n\n\t\tthis.flyToLocation = this.flyToLocation.bind(this);\n\t\tthis.toggleFireTypeHandler = this.toggleFireTypeHandler.bind(this);\n\t}\n\n\tsetupFiresOfNote(data) {\n\t\tconst promises = [];\n\n\t\tpromises.push(Axios.get(this.props.fonData));\n\t\tpromises.push(Axios.get(this.props.firePerimeters));\n\n\t\tAxios.all(promises)\n\t\t\t.then(results => {\n\t\t\t\t// separate our results\n\t\t\t\tconst fon_data = results.filter(d => d.config.url.includes('fon.json'))[0].data;\n\t\t\t\tconst perim_data = results.filter(d => d.config.url.includes('perimeters.json'))[0].data;\n\n\t\t\t\t// get fons from the main data set & merge the details\n\t\t\t\tconst fires_of_note = data.features.filter(d => {\n\t\t\t\t\tif (d.properties.FIRE_STATU === 'Fire of Note') {\n\t\t\t\t\t\t// get details of the fire of note\n\t\t\t\t\t\tconst fon = fon_data.filter(fon => fon.fire_id === d.properties.FIRE_NT_ID)[0];\n\n\t\t\t\t\t\t// merge data\n\t\t\t\t\t\td.properties = {...fon, ...d.properties};\n\n\t\t\t\t\t\treturn d;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// update our state with the new data \n\t\t\t\tthis.setState({\n\t\t\t\t\tdata_fon: fires_of_note\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tfilterFireData(fire_class) {\n\t\t// currently, 'new' & 'out-of-control' fires are listed as new. Not sure if this is ideal. \n\t\tif (fire_class === 'new') {\n\t\t\tlet data_array = [];\n\t\t\tthis.state.data_all.features.forEach(d => {\n\t\t\t\tconst fire_status = d.properties.FIRE_STATU.replace(/\\s/g, '-').toLowerCase();\n\n\t\t\t\tif (fire_status === fire_class | fire_status === 'out-of-control') {\n\t\t\t\t\tdata_array.push(d);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn data_array;\n\t\t// } else if (fire_class === 'out') {\n\t\t// \tconsole.log('OUT')\n\t\t} else {\n\t\t\treturn this.state.data_all.features.filter(d => d.properties.FIRE_STATU.replace(/\\s/g, '-').toLowerCase() === fire_class);\n\t\t}\n\t}\n\n\tflyToLocation(e) {\n\t\t// console.log(e.target.parentNode.id)\n\t\tthis.setState({\n\t\t\tselected_feature: this.state.data_fon.filter(d => parseInt(d.properties.fire_id) === parseInt(e.target.parentNode.id))[0]\n\t\t});\n\t}\n\n\ttoggleFireTypeHandler(e) {\n\t\tlet fire_data = {\n\t\t\ttype: 'FeatureCollection'\n\t\t};\n\t\tlet fire_class = e.target.className.split(' ')[1];\n\n\n\t\tif (fire_class === this.state.data_displayed) {\n\t\t\t// keep \n\t\t\tfire_data.features = this.state.data_all.features.filter(d => d.properties.FIRE_STATU !== 'Out');\n\t\t\t// reset\n\t\t\tfire_class = null;\n\t\t} else if (fire_class === 'out') {\n\t\t\tconsole.log('OUT')\n\t\t\tfire_data = this.state.data_all;\n\t\t} else {\n\t\t\tfire_data.features = this.filterFireData(fire_class);\n\t\t}\n\n\t\tthis.setState({\n\t\t\tdata_displayed: fire_class,\n\t\t\tdata: fire_data\n\t\t});\n\t}\n\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<WildfireMap \n\t\t\t\t\tconfig={this.props.mapboxConfig}\n\t\t\t\t\tselectedFeature={this.state.selected_feature}\n\t\t\t\t\tdata={this.state.data}\n\t\t\t\t\tdata_all={this.state.data_all}\n\t\t\t\t\tdata_fon={this.state.data_fon}\n\t\t\t\t\tmapboxStyle={this.props.mapboxStyle}\n\t\t\t\t\ttiles={this.props.tiles}\n\t\t\t\t\tflyToLocation={this.flyToLocation}\n\t\t\t\t\ttoggleFireTypeHandler={this.toggleFireTypeHandler}>\n\t\t\t\t</WildfireMap>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default WildfireTracker;","const mapbox_config = {\n\t\"accessToken\": \"pk.eyJ1IjoibmdyaWZmaXRocy1wb3N0bWVkaWEiLCJhIjoiY2p5eWluaDR1MHoycTNpbnZhYnE1ZGJ5YyJ9.ky9G5qVIJn0gz_y7tULp6Q\"\n};\n\nexport default mapbox_config;","import React from 'react';\nimport WildfireTracker from '../WildfireTracker/WildfireTracker';\nimport './App.css';\nimport mapboxConfig from '../../data/mapbox-config';\n\n\n// Wildfires url\nconst currentFiresURL = 'https://vs-postmedia-data.sfo2.digitaloceanspaces.com/wildfires.json';\n// Fires of note\nconst firesOfNoteURL = 'https://vs-postmedia-data.sfo2.digitaloceanspaces.com/fon.json';\n// Fire perimeters\nconst firePerimeters = 'https://vs-postmedia-data.sfo2.digitaloceanspaces.com/perimeters.json';\n\n// map tiles & attribution\nconst mapboxStyle = 'mapbox://styles/mapbox/outdoors-v11';\n\n\nfunction App() {\n\treturn (\n\t\t<WildfireTracker\n\t\t  \tfonData={firesOfNoteURL}\n\t\t\tcurrentData={currentFiresURL}\n\t\t\tfirePerimeters={firePerimeters}\n\t\t\tmapboxConfig={mapboxConfig}\n\t\t\tmapboxStyle={mapboxStyle}>\n\t\t</WildfireTracker>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\n// FONTS\nimport './fonts/BentonSansCond-Regular.otf';\nimport './fonts/BentonSansCond-RegItalic.otf';\nimport './fonts/BentonSansCond-Bold.otf';\nimport './fonts/BentonSansCond-BoldItalic.otf';\nimport './fonts/Shift-Bold.otf';\nimport './fonts/Shift-BoldItalic.otf';\n\n\n// CSS\nimport './css/index.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}