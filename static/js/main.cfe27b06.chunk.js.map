{"version":3,"sources":["fonts/BentonSansCond-Regular.otf","fonts/BentonSansCond-RegItalic.otf","fonts/BentonSansCond-Bold.otf","fonts/BentonSansCond-BoldItalic.otf","fonts/Shift-Bold.otf","fonts/Shift-BoldItalic.otf","components/WildfireTooltip/WildfireTooltip.js","components/CircleMap/CircleMap.js","components/SummaryBox/SummaryBox.js","components/WildfireMap/WildfireMap.js","components/InsetMap/InsetMap.js","components/FireCard/FireCard.js","components/FiresOfNote/FiresOfNote.js","components/WildfireTracker/WildfireTracker.js","data/mapbox-config.js","components/App/App.js","serviceWorker.js","index.js"],"names":["module","exports","WildfireTooltip","props","GEOGRAPHIC","FIRE_STATU","toLowerCase","replace","size","CURRENT_SI","toFixed","checkSize","ignition_date","text","FIRE_CAUSE","CircleMap","state","popup","mapboxgl","Popup","closeButton","closeOnClick","showPopup","bind","hidePopup","data","this","extent_calcuted","range","accessToken","config","map","Map","container","mapContainer","style","mapboxStyle","center","zoom","features","renderMap","prevProps","mapIsLoaded","getSource","setData","fire_size","forEach","d","push","parseFloat","properties","Math","min","max","getCanvas","cursor","remove","extent","value","getExtent","i","radius","mapRange","log","sort","a","b","e","setupPopupText","setLngLat","lngLat","setHTML","addTo","prepData","on","addSource","type","addLayer","id","source","paint","setState","ref","el","Component","SummaryBox","fire_stats","stats","out_fires","new_fires","held_fires","controlled_fires","last_update","hectares_burned","reduce","sum","item","km_burned","total_fires","length","ts","timestamp","Date","parseInt","month","month_num","getUTCMonth","toLocaleDateString","split","getUTCFullYear","toLocaleTimeString","returnCurrentTime","calculateFireStats","className","onClick","toggleFireTypeHandler","WildfireTracker","map_options","classField","maxZoom","minZoom","circleMarkerClassField","data_all","InsetMap","mapRef","React","createRef","FIRE_NUMBE","FIRE_NT_NM","cause_detail","FireCard","fire","LATITUDE","toString","LONGITUDE","fire_name","location","containment","discovered","cause","settings","autoplay","autoplaySpeed","centerMode","centerPadding","dots","draggable","infinite","lazyLoad","speed","slidesToShow","slidesToScroll","FiresOfNote","fire_centers","card","fon","filter","ZONE","attribution","fireCenter","key","name","data_fon","Axios","get","currentData","then","resp","setupFiresOfNote","promises","all_fires","fonData","firePerimeters","all","results","fires_of_note","fon_data","url","includes","perim_data","fire_merged","mergeFireDetails","perimeter","fire_number","fire_class","data_array","fire_status","fire_data","FIRE_NT_ID","fire_id","target","data_displayed","filterFireData","mapboxConfig","tiles","mapbox_config","App","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cfe27b06.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/BentonSansCond-Regular.43cd4ac7.otf\";","module.exports = __webpack_public_path__ + \"static/media/BentonSansCond-RegItalic.69a4217c.otf\";","module.exports = __webpack_public_path__ + \"static/media/BentonSansCond-Bold.6f6753fd.otf\";","module.exports = __webpack_public_path__ + \"static/media/BentonSansCond-BoldItalic.a6640d89.otf\";","module.exports = __webpack_public_path__ + \"static/media/Shift-Bold.cdd38a86.otf\";","module.exports = __webpack_public_path__ + \"static/media/Shift-BoldItalic.5c3edbfd.otf\";","// import React from 'react';\nimport './WildfireTooltip.css';\n\nconst WildfireTooltip = (props) => {\n\treturn `\n\t\t<div>\n\t\t\t<h3>${props.GEOGRAPHIC}</h3>\n\t\t\t<p class=\"status ${props.FIRE_STATU.toLowerCase().replace(/\\s/g, '-')}\">Status: ${props.FIRE_STATU}</p>\n\t\t\t<p>A fire of ${checkSize(props)} square kilometres started on ${props.ignition_date}.</p>\n\n\t\t\t<p>Suspected cause: ${formatFireCause(props.FIRE_CAUSE)}</p>\n\t\t</div>\n\t`;\n};\n\nfunction checkSize(props) {\n\tlet size = (props.CURRENT_SI / 100).toFixed(2);\n\treturn size < 0.01 ? 'less than 0.01' : size;\n}\n\nfunction formatFireCause(text) {\n\treturn text === '' ? 'unknown' : text.toLowerCase();\n}\n\nexport default WildfireTooltip;","import React, { Component } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport WildfireTooltip from '../WildfireTooltip/WildfireTooltip';\n\nimport './CircleMap.css';\n\n\nexport class CircleMap extends Component {\n\tmap;\n\tstate = {};\n\t// prep the popup\n\tpopup = new mapboxgl.Popup({\n\t\tcloseButton: false,\n\t\tcloseOnClick: false\n\t});\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// bind popup to main component\n\t\tthis.showPopup = this.showPopup.bind(this);\n\t\tthis.hidePopup = this.hidePopup.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tconst data = this.props.data;\n\n\t\t// extents for circles\n\t\tthis.extent_calcuted = false;\n\t\t// set the min/max sizes for circles\n\t\tthis.range = this.props.range ? this.props.range : [3,50];\n\n\t\t// API key\n\t\tmapboxgl.accessToken = this.props.config.accessToken;\n\t\t\n\t\tthis.map = new mapboxgl.Map({\n\t\t\t// container: this.props.container,\n\t\t\tcontainer: this.mapContainer,\n\t\t\tstyle: this.props.mapboxStyle,\n\t\t\tcenter: [this.props.center[1], this.props.center[0]],\n      \t\tzoom: this.props.zoom\n\t\t});\n\n\t\t// render the map\n\t\tif (data.features) {\n\t\t\tthis.renderMap(data);\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.state.mapIsLoaded) {\n\t\t\tif (this.props.data !== prevProps.data) {\n\t\t\t    this.map.getSource('wildfires').setData(this.props.data);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.renderMap(this.props.data);\n\t\t}\n\t\t\n\t}\n\n\tgetExtent(data) {\n\t\tlet fire_size = [];\n\n\t\tdata.forEach(d => {\n\t\t\tfire_size.push(parseFloat(d.properties.CURRENT_SI));\n\t\t});\n\t\treturn [Math.min(...fire_size), Math.max(...fire_size)];\n\t}\n\n\thidePopup() {\n\t\tthis.map.getCanvas().style.cursor = '';\n\t\tthis.popup.remove();\n\t}\n\n\tmapRange(extent, range, value) {\n\t\treturn range[0] + (value - extent[0]) * (range[1] - range[0]) / (extent[1] - extent[0]);\n\t}\n\t\n\tprepData(data) {\n\t\t// we only want to calculate the extent once, otherwise the circle size changes when toggling by fire_type, which is confusing\n\t\tif (!this.extent_calcuted) {\n\t\t\tthis.extent = this.getExtent(data.features);\n\t\t\tthis.extent_calcuted = true;\n\t\t}\n\n\t\t// calculate circle size\n\t\tdata.features.forEach((d,i) => {\n\t\t\tconst radius = this.mapRange(this.extent, this.range, d.properties.CURRENT_SI);\n\t\t\td.properties.radius = Math.log(radius) * 4;\n\t\t});\n\n\t\t// reorder array by CURRENT_SI, largest -> smallest\n\t\tdata.features.sort((a,b) => {\n\t\t\treturn b.CURRENT_SI - a.CURRENT_SI;\n\t\t});\n\t}\n\n\tsetupPopupText(properties) {\n\t\treturn WildfireTooltip(properties);\n\t}\n\n\tshowPopup(e) {\n\t\t// change cursor style as UI indicator\n\t\tthis.map.getCanvas().style.cursor = 'pointer';\n\t\t// popup content to be displayed\n\t\tconst text = this.setupPopupText(e.features[0].properties);\n\n\t\t// set coords based on mouse position\n\t\tthis.popup.setLngLat(e.lngLat)\n\t\t\t.setHTML(text)\n\t\t\t.addTo(this.map)\n\t}\n\n\trenderMap(data) {\n\t\tthis.prepData(data);\n\n\t\t// add fire perimeter polygon\n\t\tthis.map.on('load', () => {\n\t\t\tthis.map.addSource('wildfires', {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: data\n\t\t\t});\n\n\t\t\tthis.map.addLayer({\n\t\t\t\tid: 'wildfires',\n\t\t\t\ttype: 'circle',\n\t\t\t\tsource: 'wildfires',\n\t\t\t\tpaint: {\n\t\t\t\t\t'circle-color': [\n\t\t\t\t\t\t'match',\n\t\t\t\t\t\t['get', 'FIRE_STATU'],\n\t\t\t\t\t\t'New',\n\t\t\t\t\t\t'#DD2D25',\n\t\t\t\t\t\t'Being Held',\n\t\t\t\t\t\t'#F26B21',\n\t\t\t\t\t\t'Under Control',\n\t\t\t\t\t\t'#0062A3',\n\t\t\t\t\t\t'Out',\n\t\t\t\t\t\t'#6D6E70',\n\t\t\t\t\t\t/* other */ 'green'\n\t\t\t\t\t],\n\t\t\t\t\t'circle-opacity': 0.7,\n\t\t\t\t\t// probably a better way to do this...\n\t\t\t\t\t'circle-radius': [\n\t\t\t\t\t\t'*',\n\t\t\t\t\t\t['get', 'radius'],\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t'circle-stroke-width': 0.5,\n\t\t\t\t\t'circle-stroke-color': '#FFF'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// show & hide the popup\n\t\t\tthis.map.on('mouseenter', 'wildfires', this.showPopup);\n\t\t\tthis.map.on('mouseleave', 'wildfires', this.hidePopup);\n\t\t});\n\n\t\tthis.setState({\n\t\t\tmapIsLoaded: true\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div ref={el => this.mapContainer = el} />\n\t\t);\n\t}\n}\n\n\nexport default CircleMap;","import React from 'react';\nimport './SummaryBox.css';\n\nconst SummaryBox = (props) => {\n\tconst fire_stats = calculateFireStats(props);\n\n\treturn (\n\t\t<div className=\"summary-box\" onClick={props.toggleFireTypeHandler}>\n\t\t\t<h2>Latest wildfire stats</h2>\n\t\n\t\t\t<div className=\"stat-box\">\n\t\t\t\t<div className=\"stat\">\n\t\t\t\t\t<p className=\"big-num new\">{fire_stats.new_fires}</p>\n\t\t\t\t\t<p className=\"label\">New</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"stat\">\n\t\t\t\t\t<p className=\"big-num being-held\">{fire_stats.held_fires}</p>\n\t\t\t\t\t<p className=\"label\">Held</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"stat\">\n\t\t\t\t\t<p className=\"big-num under-control\">{fire_stats.controlled_fires}</p>\n\t\t\t\t\t<p className=\"label\">Controlled</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"stat\">\n\t\t\t\t\t<p className=\"big-num out\">{fire_stats.out_fires}</p>\n\t\t\t\t\t<p className=\"label\">Out</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<p className=\"last-update\">Last updated: {fire_stats.last_update}</p>\n\t\t</div>\n\t);\n}\n\nfunction calculateFireStats(props) {\n\tlet stats = {\n\t\tout_fires: 0,\n\t\tnew_fires: 0,\n\t\theld_fires: 0,\n\t\tcontrolled_fires: 0,\n\t\tlast_update: 'Waiting for data...'\n\t}\n\t\n\tif (props.data.features) {\n\t\tconst data = props.data.features;\n\n\t\tlet hectares_burned = data.reduce((sum, item) => {\n\t\t\treturn sum + parseFloat(item.properties.CURRENT_SI);\n\t\t}, 0);\n\n\t\tstats.km_burned = (hectares_burned / 100).toFixed(0);\n\t\tstats.total_fires = data.length + 1;\n\n\t\tstats.last_update = data.length > 0 ? returnCurrentTime(data[0].properties.last_update) : 'Not available';\n\n\t\tfor (let i = 0; i < data.length; ++i) {\n\t\t\tif (data[i].properties.FIRE_STATU === 'New' | data[i].properties.FIRE_STATU === 'Out of Control') {\n\t\t\t\tstats.new_fires++;\n\t\t\t} else if (data[i].properties.FIRE_STATU === 'Being Held') {\n\t\t\t\tstats.held_fires++;\n\t\t\t} else if (data[i].properties.FIRE_STATU === 'Under Control') {\n\t\t\t\tstats.controlled_fires++;\n\t\t\t} else {\n\t\t\t\tstats.out_fires++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn stats;\n}\n\nfunction returnCurrentTime(ts) {\n\tconst timestamp = new Date(parseInt(ts));\n\tconst month = returnMonth(timestamp.getUTCMonth());\n\n\treturn `${month} ${timestamp.toLocaleDateString().split('/')[1]}, ${timestamp.getUTCFullYear()} at ${timestamp.toLocaleTimeString()}`\n}\n\nfunction returnMonth(month_num) {\n\tconst month_lookup = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n\treturn month_lookup[parseInt(month_num)];\n}\n\n\nexport default SummaryBox;\n","import React, { Component, Fragment } from 'react';\nimport CircleMap from '../CircleMap/CircleMap';\nimport SummaryBox from '../SummaryBox/SummaryBox';\nimport './WildfireMap.css';\n\n\nexport class WildfireTracker extends Component {\n\tmap_options = {\n\t\tcenter: [53.184179, -125.652423],\n\t\tclassField: 'FIRE_STATU',\n\t\tmaxZoom: 8,\n\t\tminZoom: 3,\n\t\tzoom: 4\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<h1>B.C. Wildfire Tracker</h1>\n\n\t\t\t\t<CircleMap\n\t\t\t\t\tcenter={this.map_options.center}\n\t\t\t\t\tcircleMarkerClassField={this.map_options.classField}\n\t\t\t\t\tconfig={this.props.config}\n\t\t\t\t\tcontainer=\"mapview\"\n\t\t\t\t\tdata={this.props.data}\n\t\t\t\t\tmapboxStyle={this.props.mapboxStyle}\n\t\t\t\t\tmaxZoom={this.map_options.maxZoom}\n\t\t\t\t\tminZoom={this.map_options.minZoom}\n\t\t\t\t\tzoom={this.map_options.zoom}>\n\t\t\t\t</CircleMap>\n\n\t\t\t\t<SummaryBox\n\t\t\t\t\tdata={this.props.data_all}\n\t\t\t\t\ttoggleFireTypeHandler={this.props.toggleFireTypeHandler}>\n\t\t\t\t</SummaryBox>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default WildfireTracker;\n","import React, { Component } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport './InsetMap.css';\n\n\n\nclass InsetMap extends Component {\n\tmapRef = React.createRef();\n\tmap;\n\t// prep the popup\n\tpopup = new mapboxgl.Popup({\n\t\tcloseButton: false,\n\t\tcloseOnClick: false\n\t});\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// bind popup to main component\n\t\tthis.showPopup = this.showPopup.bind(this);\n\t\tthis.hidePopup = this.hidePopup.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tconst data = this.props.data;\n\t\tconst id = this.props.data.properties.FIRE_NUMBE;\n\n\t\t// API key\n\t\tmapboxgl.accessToken = this.props.config.accessToken;\n\t\t\n\t\tthis.map = new mapboxgl.Map({\n\t\t\t// container: this.mapRef.current,\n\t\t\tcontainer: this.props.container,\n\t\t\tstyle: this.props.mapboxStyle,\n\t\t\tcenter: [this.props.center[1], this.props.center[0]],\n      \t\tzoom: this.props.zoom\n\t\t});\n\n\t\t// add fire perimeter polygon\n\t\tthis.map.on('load', () => {\n\t\t\tthis.map.addSource('fire_perim', {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: data\n\t\t\t});\n\n\t\t\tthis.map.addLayer({\n\t\t\t\tid: id,\n\t\t\t\ttype: 'fill',\n\t\t\t\tsource: 'fire_perim',\n\t\t\t\tpaint: {\n\t\t\t\t\t'fill-color': '#DD2D25',\n\t\t\t\t\t'fill-opacity': 0.4\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// show & hide the popup\n\t\t\tthis.map.on('mouseenter', id, this.showPopup);\n\t\t\tthis.map.on('mouseleave', id, this.hidePopup);\n\t\t});\n\t}\n\n\thidePopup() {\n\t\tthis.map.getCanvas().style.cursor = '';\n\t\tthis.popup.remove();\n\t}\n\n\tsetupPopupText(properties) {\n\t\treturn `<div className=\"popup-text\"><h3>${properties.FIRE_NT_NM}</h3><p>${properties.cause_detail}</p></div>`\n\t}\n\n\tshowPopup(e) {\n\t\t// change cursor style as UI indicator\n\t\tthis.map.getCanvas().style.cursor = 'pointer';\n\t\t// popup content to be displayed\n\t\tconst text = this.setupPopupText(e.features[0].properties);\n\n\t\t// set coords based on mouse position\n\t\tthis.popup.setLngLat(e.lngLat)\n\t\t\t.setHTML(text)\n\t\t\t.addTo(this.map)\n\t}\n\n\trender() {\t\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div ref={this.map} id={this.props.container}></div>\n\t\t\t\t<pre id=\"info\"></pre>\n\t\t\t</div>\n\t\t\t\n\t\t);\n\t}\n}\n\nexport default InsetMap;","import React from 'react';\nimport InsetMap from '../InsetMap/InsetMap';\n\nimport './FireCard.css';\n\nconst FireCard = (props) => {\n\tconst fire = props.data.properties;\n\n\tconst map_options = {\n\t\tcenter: [fire.LATITUDE.toString(), fire.LONGITUDE.toString()],\n\t\tclassField: 'fire-of-note',\n\t\tmaxZoom: 8,\n\t\tminZoom: 4,\n\t\tradius: 10,\n\t\tzoom: 10\n\t};\n\n\treturn (\n\t\t<div className='fire-card'>\n\t\t\t<div className='row'>\n\t\t\t<div className='text'>\n\t\t\t\t<header>\n\t\t\t\t\t<h3>{fire.fire_name.split(' (')[0]}</h3>\n\t\t\t\t\t<p>{fire.location}</p>\n\t\t\t\t</header>\n\t\t\t\t<div className='status-box'>\n\t\t\t\t\t<div className='status-item'>\n\t\t\t\t\t\t<h2 className={`${fire.FIRE_STATU.replace(/\\s/g, '-').toLowerCase()} big-num`}>{fire.FIRE_STATU}</h2>\n\t\t\t\t\t\t<p className='label'>Status</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ fire.containment.length > 0 &&\n\t\t\t\t\t\t<div className='containment-item'>\n\t\t\t\t\t\t\t<h2 className='big-num'>fire.containment</h2>\n\t\t\t\t\t\t\t<p className='label'>Contained</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\n\t\t\t\t<div className='stat-box'>\n\t\t\t\t\t<div className='stat'>\n\t\t\t\t\t\t<span className='started icon'></span>\n\t\t\t\t\t\t<p><strong>Started:</strong></p> \n\t\t\t\t\t\t<p className='started-date'>{`${fire.discovered.split('day, ')[1]}`}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='stat'>\n\t\t\t\t\t\t<span className='size icon'></span>\n\t\t\t\t\t\t<p><strong>Size:</strong></p> \n\t\t\t\t\t\t<p>{`${haToKm(fire.CURRENT_SI)} km square`}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='stat'>\n\t\t\t\t\t\t<span className='cause icon'></span>\n\t\t\t\t\t\t<p><strong>Cause:</strong></p> \n\t\t\t\t\t\t<p>{`${fire.cause}`}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<InsetMap\n\t\t\t\tcenter={map_options.center}\n\t\t\t\tconfig={props.config}\n\t\t\t\tcontainer={props.container}\n\t\t\t\tdata={props.data}\n\t\t\t\tmapboxStyle={props.mapboxStyle}\n\t\t\t\tmaxZoom={map_options.maxZoom}\n\t\t\t\tminZoom={map_options.minZoom}\n\t\t\t\trange={[5,5]}\n\t\t\t\tzoom={map_options.zoom}>\n\t\t\t</InsetMap>\n\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t);\n}\n// <p className=\"row\">{fire.status_details.split(' ,,')[0].split(',For')[0]}</p>\nfunction haToKm(number) {\n\tlet size = (number / 100).toFixed(2);\n\treturn size;\n}\n\nexport default FireCard;\n\n\n\n/*\n<CircleMap id=\"fon-mapview\"\n\tattribution={props.attribution}\n\tcenter={map_options.center}\n\tcircleMarkerClassField={map_options.classField}\n\tdata={[fire]}\n\tmaxZoom={map_options.maxZoom}\n\tminZoom={map_options.minZoom}\n\tradius={map_options.radius}\n\trange={[5,5]}\n\ttiles={props.tiles}\n\tzoom={map_options.zoom}>\n</CircleMap>\n*/","import React from 'react';\nimport Slider from \"react-slick\";\nimport FireCard from '../FireCard/FireCard';\nimport fire_centers from '../../data/fire-centers.json';\n\n// Import css files\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\nimport './FiresOfNote.css';\n\n// slider params\nconst settings = {\n\tautoplay: true,\n\tautoplaySpeed: 7500,\n\tcenterMode: true,\n\tcenterPadding: '25px',\n\tdots: true,\n\tdraggable: false,\n\tinfinite: true,\n\tlazyLoad: 'ondemand',\n\tspeed: 500,\n\tslidesToShow: 1,\n\tslidesToScroll: 1\n};\n\nconst FiresOfNote = (props) => {\n\treturn (\n\t\t<div className='fon'>\n\t\t\t<h1>Wildfires of Note</h1>\n\t\t\t<p>Wildfires of note are those which are highly visible or that pose a potential threat to public safety. The wildfires are grouped by B.C.â€™s regional fire centres.</p>\n\t\t\t<p>The province of B.C. is divided into six regional fire centres: Cariboo, Coastal, Kamloops, Northwest, Prince George and Southeast.</p>\n\t\t\t<Slider {...settings}>\n\t\t\t\t{\n\t\t\t\t\tfire_centers.map((d, i) => {\n\t\t\t\t\t\tlet card;\n\t\t\t\t\t\tconst fon = props.data.filter(fire => {\n\t\t\t\t\t\t\treturn parseInt(fire.properties.ZONE) === parseInt(d.id)\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (fon.length > 0) {\n\t\t\t\t\t\t\tcard = fon.map((d, i) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<FireCard className='fire-card' \n\t\t\t\t\t\t\t\t\t\tattribution={props.attribution}\n\t\t\t\t\t\t\t\t\t\tconfig={props.config}\n\t\t\t\t\t\t\t\t\t\tcontainer='fon-mapview'\n\t\t\t\t\t\t\t\t\t\tdata={fon[i]}\n\t\t\t\t\t\t\t\t\t\tfireCenter={d.id}\n\t\t\t\t\t\t\t\t\t\tkey={`fire-card-${i}`}\n\t\t\t\t\t\t\t\t\t\tmapboxStyle={props.mapboxStyle}>\n\t\t\t\t\t\t\t\t\t</FireCard>\n\t\t\t\t\t\t\t\t)\t\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcard = <p className=\"no-fires\">No fires of note</p>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className='fire-center' key={d.id}>\n\t\t\t\t\t\t\t\t<h2 className='fire-center'>{`${d.name} Fire Centre`}</h2>\n\t\t\t\t\t\t\t\t{card}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</Slider>\n\t\t</div>\n\t);\n}\n\nexport default FiresOfNote;\n","import React, { Component, Fragment } from 'react';\nimport Axios from 'axios'\nimport WildfireMap from '../WildfireMap/WildfireMap';\nimport FiresOfNote from '../FiresOfNote/FiresOfNote';\n\nexport class WildfireTracker extends Component {\n\n\tstate = {\n\t\tdata: [],\n\t\tdata_all: [],\n\t\tdata_fon: []\n\t}\n\n\tcomponentDidMount() {\n\t\tAxios.get(this.props.currentData)\n\t\t\t.then(resp => {\n\t\t\t\t// update our state with the new data\n\t\t\t\tthis.setState({\n\t\t\t\t\tdata: resp.data,\n\t\t\t\t\tdata_all: resp.data\n\t\t\t\t});\n\n\t\t\t\tthis.setupFiresOfNote(resp.data);\n\t\t\t});\n\n\t\tthis.toggleFireTypeHandler = this.toggleFireTypeHandler.bind(this);\n\t}\n\n\tsetupFiresOfNote(data) {\n\t\tconst promises = [];\n\t\tconst all_fires = data;\n\n\t\tpromises.push(Axios.get(this.props.fonData));\n\t\tpromises.push(Axios.get(this.props.firePerimeters));\n\n\t\tAxios.all(promises)\n\t\t\t.then(results => {\n\t\t\t\tlet fires_of_note = [];\n\n\t\t\t\t// separate our results\n\t\t\t\tconst fon_data = results.filter(d => d.config.url.includes('fon.json'));\n\t\t\t\tlet perim_data = results.filter(d => d.config.url.includes('perimeters.json'));\n\t\t\t\tperim_data = perim_data[0].data;\n\n\t\t\t\t// loop through the object returned & push the FON data into an array\n\t\t\t\tfor (let fon in fon_data) {\n\t\t\t\t\tconst data = fon_data[fon].data;\n\t\t\t\t\t\n\t\t\t\t\t// merge fon details with basic fire data\n\t\t\t\t\tconst fire_merged = this.mergeFireDetails(data[fon], all_fires.features);\n\n\t\t\t\t\t// find the matching perimeter data\n\t\t\t\t\tconst perimeter = perim_data.filter(d => d.properties.FIRE_NUMBE === fire_merged.fire_number);\n\t\t\t\t\t\n\t\t\t\t\tif (perimeter.length > 0) {\n\t\t\t\t\t\t// add permieter data\n\t\t\t\t\t\tperimeter[0].properties = fire_merged;\n\n\t\t\t\t\t\tfires_of_note.push(perimeter[0]);\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t// update our state with the new data \n\t\t\t\tthis.setState({\n\t\t\t\t\tdata_fon: fires_of_note\n\t\t\t\t});\n\t\t\t\t\n\t\t\t});\n\t}\n\n\tfilterFireData(fire_class) {\n\t\t// currently, 'new' & 'out-of-control' fires are listed as new. Not sure if this is ideal. \n\t\tif (fire_class === 'new') {\n\t\t\tlet data_array = [];\n\t\t\tthis.state.data_all.features.forEach(d => {\n\t\t\t\tconst fire_status = d.properties.FIRE_STATU.replace(/\\s/g, '-').toLowerCase();\n\n\t\t\t\tif (fire_status === fire_class | fire_status === 'out-of-control') {\n\t\t\t\t\tdata_array.push(d);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn data_array;\n\t\t} else {\n\t\t\treturn this.state.data_all.features.filter(d => d.properties.FIRE_STATU.replace(/\\s/g, '-').toLowerCase() === fire_class);\n\t\t}\n\t}\n\n\tmergeFireDetails(fon, all_fires) {\n\t\tlet fire_data;\n\n\t\tall_fires.forEach(d => {\n\t\t\tif (d.properties.FIRE_NT_ID === fon.fire_id) {\n\t\t\t\tfire_data = {...fon, ...d.properties};\n\t\t\t}\n\t\t});\n\n\t\treturn fire_data;\n\t}\n\n\ttoggleFireTypeHandler(e) {\n\t\tlet fire_data = {\n\t\t\ttype: 'FeatureCollection'\n\t\t};\n\t\tlet fire_class = e.target.className.split(' ')[1];\n\n\t\tif (fire_class === this.state.data_displayed) {\n\t\t\tfire_data = this.state.data_all;\n\t\t\tfire_class = null;\n\t\t} else {\n\t\t\tfire_data.features = this.filterFireData(fire_class);\n\t\t}\n\n\t\tthis.setState({\n\t\t\tdata_displayed: fire_class,\n\t\t\tdata: fire_data\n\t\t});\n\t}\n\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<WildfireMap \n\t\t\t\t\tconfig={this.props.mapboxConfig}\n\t\t\t\t\tdata={this.state.data}\n\t\t\t\t\tdata_all={this.state.data_all}\n\t\t\t\t\tmapboxStyle={this.props.mapboxStyle}\n\t\t\t\t\ttiles={this.props.tiles}\n\t\t\t\t\ttoggleFireTypeHandler={this.toggleFireTypeHandler}>\n\t\t\t\t</WildfireMap>\n\n\t\t\t\t<FiresOfNote\n\t\t\t\t\tconfig={this.props.mapboxConfig}\n\t\t\t\t\tdata={this.state.data_fon}\n\t\t\t\t\tmapboxStyle={this.props.mapboxStyle}\n\t\t\t\t></FiresOfNote>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default WildfireTracker;","const mapbox_config = {\n\t\"accessToken\": \"pk.eyJ1IjoibmdyaWZmaXRocy1wb3N0bWVkaWEiLCJhIjoiY2p5eWluaDR1MHoycTNpbnZhYnE1ZGJ5YyJ9.ky9G5qVIJn0gz_y7tULp6Q\"\n};\n\nexport default mapbox_config;","import React from 'react';\nimport WildfireTracker from '../WildfireTracker/WildfireTracker';\nimport './App.css';\nimport mapboxConfig from '../../data/mapbox-config';\n\n\n// Wildfires url\nconst currentFiresURL = 'https://storage.googleapis.com/wildfire_data/wildfires.json';\n// Fires of note\nconst firesOfNoteURL = 'https://storage.googleapis.com/wildfire_data/fon.json';\n// Fire perimeters\nconst firePerimeters = 'https://storage.googleapis.com/wildfire_data/perimeters.json';\n\n// map tiles & attribution\nconst mapboxStyle = 'mapbox://styles/mapbox/outdoors-v11';\n\n\nfunction App() {\n\treturn (\n\t\t<WildfireTracker\n\t\t  \tfonData={firesOfNoteURL}\n\t\t\tcurrentData={currentFiresURL}\n\t\t\tfirePerimeters={firePerimeters}\n\t\t\tmapboxConfig={mapboxConfig}\n\t\t\tmapboxStyle={mapboxStyle}>\n\t\t</WildfireTracker>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\n// FONTS\nimport './fonts/BentonSansCond-Regular.otf';\nimport './fonts/BentonSansCond-RegItalic.otf';\nimport './fonts/BentonSansCond-Bold.otf';\nimport './fonts/BentonSansCond-BoldItalic.otf';\nimport './fonts/Shift-Bold.otf';\nimport './fonts/Shift-BoldItalic.otf';\n\n// import './fonts/Shift-Book.otf';\n// import './fonts/Shift-BookItalic.otf';\n// import './fonts/Shift-Extralight.otf';\n// import './fonts/Shift-ExtralightItalic.otf';\n// import './fonts/Shift-Medium.otf';\n// import './fonts/Shift-MediumItalic.otf';\n// import './fonts/Shift-Semibold-Italic_400.otf';\n\n// CSS\nimport './css/index.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}