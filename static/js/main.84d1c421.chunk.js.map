{"version":3,"sources":["images/firesmoke-legend-v2.png","fonts/BentonSansCond-Regular.otf","fonts/BentonSansCond-RegItalic.otf","fonts/BentonSansCond-Bold.otf","fonts/BentonSansCond-BoldItalic.otf","fonts/Shift-Bold.otf","fonts/Shift-BoldItalic.otf","components/WildfireTooltip/WildfireTooltip.js","components/CircleMap/CircleMap.js","components/SummaryBox/SummaryBox.js","components/FireListing/FireListing.js","components/WildfireMap/WildfireMap.js","components/WildfireTracker/WildfireTracker.js","data/mapbox-config.js","components/App/App.js","serviceWorker.js","index.js"],"names":["module","exports","WildfireTooltip","props","GEOGRAPHIC","FIRE_STATU","toLowerCase","replace","size","CURRENT_SI","toFixed","checkSize","ignition_date","split","text","FIRE_CAUSE","CircleMap","state","popup","maplibregl","Popup","closeButton","closeOnClick","showPopup","bind","hidePopup","evacsAlerts","firstSymbolId","this","map","addSource","type","data","addLayer","id","source","filter","paint","minzoom","layout","fireSmokeUrl","url","coordinates","addFiresmokeLegend","extent_calcuted","range","Map","center","container","mapContainer","maxZoom","minZoom","mapboxStyle","zoom","features","renderMap","prevProps","mapIsLoaded","getSource","setData","selectedFeature","flyToLocation","currentFeature","flyTo","geometry","fire_size","forEach","d","push","parseFloat","properties","Math","min","max","getCanvas","style","cursor","remove","extent","value","getExtent","i","radius","mapRange","log","sort","a","b","on","e","sidebarClick","coords","lng","lat","setupPopupText","lngLat","setLngLat","setHTML","addTo","prepData","layers","getStyle","length","addFiresmokeLayer","addEvacsAlerts","addWildfireLayer","addControl","NavigationControl","setupPopupHandlers","setState","ref","el","className","src","legend","Component","SummaryBox","fire_stats","stats","out_fires","new_fires","held_fires","controlled_fires","last_update","hectares_burned","reduce","sum","item","km_burned","total_fires","ts","timestamp","Date","parseInt","month","month_num","getUTCMonth","toLocaleDateString","getUTCFullYear","toLocaleTimeString","returnCurrentTime","calculateFireStats","onClick","toggleFireTypeHandler","href","target","buttonStatus","toggleSidebar","sidebar","document","getElementById","FireListing","list","fon","clickHandler","round","name","FIRE_NT_NM","sizeText","key","FIRE_NUMBE","fire_id","location","ListItem","onChange","htmlFor","window","innerWidth","WildfireTracker","map_options","classField","circleMarkerClassField","config","data_evacs","data_all","data_fon","selected_feature","Axios","get","currentData","then","resp","noOut","setupFiresOfNote","fetchEvacs","results","status","promises","fonData","all","fon_data","includes","fires_of_note","FIRE_NT_ID","fire_name","fire_class","data_array","fire_status","parentNode","fire_data","data_displayed","filterFireData","mapboxConfig","tiles","mapbox_config","App","firePerimeters","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.84d1c421.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAAuCAIAAADiJ8FWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFMkQ5QTUwN0RDNzkxMUVCOTUzNDgxRTg2QTBDQzVEMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFMkQ5QTUwOERDNzkxMUVCOTUzNDgxRTg2QTBDQzVEMCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkUyRDlBNTA1REM3OTExRUI5NTM0ODFFODZBMENDNUQwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkUyRDlBNTA2REM3OTExRUI5NTM0ODFFODZBMENDNUQwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+5ALygAAADPxJREFUeNrsnHls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\"","module.exports = __webpack_public_path__ + \"static/media/BentonSansCond-Regular.43cd4ac7.otf\";","module.exports = __webpack_public_path__ + \"static/media/BentonSansCond-RegItalic.69a4217c.otf\";","module.exports = __webpack_public_path__ + \"static/media/BentonSansCond-Bold.6f6753fd.otf\";","module.exports = __webpack_public_path__ + \"static/media/BentonSansCond-BoldItalic.a6640d89.otf\";","module.exports = __webpack_public_path__ + \"static/media/Shift-Bold.cdd38a86.otf\";","module.exports = __webpack_public_path__ + \"static/media/Shift-BoldItalic.5c3edbfd.otf\";","// import React from 'react';\nimport './WildfireTooltip.css';\n\nconst WildfireTooltip = (props) => {\n\treturn `\n\t\t<div>\n\t\t\t<h3>${props.GEOGRAPHIC}</h3>\n\t\t\t<p class=\"status ${props.FIRE_STATU.toLowerCase().replace(/\\s/g, '-')}\">Status: ${props.FIRE_STATU}</p>\n\t\t\t<p>A ${checkSize(props)} fire started on ${props.ignition_date.split(',')[0]}.</p>\n\n\t\t\t<p>Suspected cause: ${formatFireCause(props.FIRE_CAUSE)}</p>\n\t\t</div>\n\t`;\n};\n\nfunction checkSize(props) {\n\tlet size = (props.CURRENT_SI / 100).toFixed(2);\n\treturn size < 0.01 ? 'spot fire' : `${size} square kilometre`;\n}\n\nfunction formatFireCause(text) {\n\treturn text === '' ? 'unknown' : text.toLowerCase();\n}\n\nexport default WildfireTooltip;","import React, { Fragment, Component } from 'react';\nimport maplibregl from 'maplibre-gl';\nimport WildfireTooltip from '../WildfireTooltip/WildfireTooltip';\n\n// CSS\nimport './maplibre-gl.css';\nimport './CircleMap.css';\n\nimport legend from '../../images/firesmoke-legend-v2.png';\n\n// VARS\nconst evacColor = '#E35D42';\nconst alertColor = '#A7A9AB';\n// const alertColor = '#F6B31C';\nconst evacZoomLevel = 6;\nconst evacMinSize = 220000000;\n\nexport class CircleMap extends Component {\n\tmap;\n\tstate = {};\n\t// prep the popup\n\tpopup = new maplibregl.Popup({\n\t\tcloseButton: false,\n\t\tcloseOnClick: true\n\t});\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// bind popup to main component\n\t\tthis.showPopup = this.showPopup.bind(this);\n\t\tthis.hidePopup = this.hidePopup.bind(this);\n\t}\n\n\taddEvacsAlerts(evacsAlerts, firstSymbolId) {\n\t\t// add arcgis source\n\t\tthis.map.addSource('evacs_alerts_arcgis', {\n        \ttype: 'geojson',\n        \tdata: evacsAlerts\n      \t});\n\t\t// add & style layer\n      \tthis.map.addLayer({\n      \t  id: 'evacs_alerts_layer',\n      \t  type: 'fill',\n      \t  source: 'evacs_alerts_arcgis',\n      \t  filter: ['==', ['get', 'EVENT_TYPE'], 'Fire'],\n      \t  paint: {\n      \t    'fill-color': [\n      \t      'match',\n      \t      ['get', 'ORDER_ALERT_STATUS'],\n      \t      'Alert',\n      \t      alertColor,\n      \t      'Order',\n      \t      evacColor,\n      \t      'Tactical',\n      \t      '#A7A9AB',\n      \t      '#A7A9AB'\n      \t    ],\n      \t    'fill-opacity': 0.75\n      \t  }\n      \t// place layer underneath this layer\n      \t}, firstSymbolId);\t\t\n\n\t\t// evac/alert labels\n\t\tthis.map.addLayer({\n\t\t\tid: 'evac-data-text',\n\t\t\tminzoom: evacZoomLevel,\n\t\t\tsource: 'evacs_alerts_arcgis',\n\t\t\ttype: 'symbol',\n\t\t\t// we don't need to label every single evac zone...\n\t\t\tfilter: ['>', ['get', 'Shape__Area'], evacMinSize],\n\t\t\tlayout: {\n\t\t\t\t'symbol-placement': 'point',\n\t\t\t\t'text-field': [\n\t\t\t\t\t'format',\n\t\t\t\t\t['concat', 'Evacuation ', ['get', 'ORDER_ALERT_STATUS']],\n\t\t\t\t\t{\n\t\t\t\t\t\t'font-scale': 0.9,\n\t\t\t\t\t\t'font-weight': 800\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t},\n\t\t\tpaint: {\n\t\t\t\t'text-color': 'rgba(255,255,255,1)',\n\t\t\t\t'text-halo-blur': .25,\n\t\t\t\t'text-halo-color': [\n\t\t\t\t\t'match',\n\t\t\t\t\t['get', 'ORDER_ALERT_STATUS'],\n\t\t\t\t\t'Alert',\n\t\t\t\t\talertColor,\n\t\t\t\t\t'Order',\n\t\t\t\t\tevacColor,\n\t\t\t\t\t'Tactical',\n\t\t\t\t\t'#A7A9AB',\n\t\t\t\t\t'#A7A9AB' // fallback\n\t\t\t\t],\n\t\t\t\t'text-halo-width': 1\n\t\t\t}\n\t\t});\n\t}\n\n\taddFiresmokeLayer(fireSmokeUrl, firstSymbolId) {\n\t\t// firesmoke\n\t\tthis.map.addSource('fire-smoke', {\n\t\t\ttype: 'image',\n\t\t\turl: fireSmokeUrl,\n\t\t\tcoordinates: [\n\t\t\t\t[-160,70],\n\t\t\t\t[-52,70],\n\t\t\t\t[ -52,32],\n\t\t\t\t[-160,32]\n\t\t\t]\n\t\t});\n\t\tthis.map.addLayer({\n\t\t\tid: 'fire-smoke',\n\t\t\tsource: 'fire-smoke',\n\t\t\ttype: 'raster',\n\t\t\tpaint: {\n\t\t\t\t'raster-opacity': 0.6\n\t\t\t}\n\t\t// place layer underneath this layer\n\t\t}, firstSymbolId);\n\n\t\t// add legend\n\t\tthis.addFiresmokeLegend();\n\t}\n\n\taddFiresmokeLegend() {\n\n\t}\n\n\taddWildfireLayer(data, firstSymbolId) {\n\t\tthis.map.addSource('wildfires', {\n\t\t\ttype: 'geojson',\n\t\t\tdata: data\n\t\t});\n\t\tthis.map.addLayer({\n\t\t\tid: 'wildfires',\n\t\t\ttype: 'circle',\n\t\t\tsource: 'wildfires',\n\t\t\tpaint: {\n\t\t\t\t'circle-color': [\n\t\t\t\t\t'match',\n\t\t\t\t\t['get', 'FIRE_STATU'],\n\t\t\t\t\t'New',\n\t\t\t\t\t'#DD2D25',\n\t\t\t\t\t'Out of Control',\n\t\t\t\t\t'#DD2D25',\n\t\t\t\t\t'Being Held',\n\t\t\t\t\t'#F26B21',\n\t\t\t\t\t'Under Control',\n\t\t\t\t\t'#0062A3',\n\t\t\t\t\t'Out',\n\t\t\t\t\t'#6D6E70',\n\t\t\t\t\t/* fallback */ '#9b3f86'\n\t\t\t\t],\n\t\t\t\t'circle-opacity': 0.7,\n\t\t\t\t// probably a better way to do this...\n\t\t\t\t'circle-radius': [\n\t\t\t\t\t'*',\n\t\t\t\t\t['get', 'radius'],\n\t\t\t\t\t1\n\t\t\t\t],\n\t\t\t\t'circle-stroke-width': 0.5,\n\t\t\t\t'circle-stroke-color': '#FFF'\n\t\t\t}\n\t\t// place layer underneath this layer\n\t\t},firstSymbolId);\n\t}\n\n\tcomponentDidMount() {\n\t\tconst data = this.props.data;\n\n\t\t// extents for circles\n\t\tthis.extent_calcuted = false;\n\t\t// set the min/max sizes for circles\n\t\tthis.range = this.props.range ? this.props.range : [3.5,75];\n\t\t\n\t\tthis.map = new maplibregl.Map({\n\t\t\t// container: this.props.container,\n\t\t\tcenter: [this.props.center[1], this.props.center[0]],\n\t\t\tcontainer: this.mapContainer,\n\t\t\tmaxZoom: this.props.maxZoom,\n\t\t\tminZoom: this.props.minZoom,\n\t\t\tmaxZoom: 30,\n\t\t\tstyle: this.props.mapboxStyle,\n      \t\tzoom: this.props.zoom\n\t\t});\n\n\t\t// render the map\n\t\tif (data.features) {\n\t\t\tthis.renderMap(data);\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.state.mapIsLoaded) {\n\t\t\tif (this.props.data !== prevProps.data) {\n\t\t\t    this.map.getSource('wildfires').setData(this.props.data);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.renderMap(this.props.data);\n\t\t}\n\n\t\t// has a feature been selected?\n\t\tif (this.props.selectedFeature && this.props.selectedFeature !== prevProps.data) {\n\t\t\tthis.flyToLocation(this.props.selectedFeature);\n\t\t\tthis.showPopup(this.props.selectedFeature, true)\n\t\t}\n\t}\n\n\tflyToLocation(currentFeature) {\n\t\tthis.map.flyTo({\n\t\t\tcenter: currentFeature.geometry.coordinates,\n\t\t\tzoom: 8\n\t\t});\n\t}\n\t\n\tgetExtent(data) {\n\t\tlet fire_size = [];\n\n\t\tdata.forEach(d => {\n\t\t\tfire_size.push(parseFloat(d.properties.CURRENT_SI));\n\t\t});\n\t\treturn [Math.min(...fire_size), Math.max(...fire_size)];\n\t}\n\n\thidePopup() {\n\t\tthis.map.getCanvas().style.cursor = '';\n\t\tthis.popup.remove();\n\t}\n\n\tmapRange(extent, range, value) {\n\t\treturn range[0] + (value - extent[0]) * (range[1] - range[0]) / (extent[1] - extent[0]);\n\t}\n\t\n\tprepData(data) {\n\t\t// we only want to calculate the extent once, otherwise the circle size changes when toggling by fire_type, which is confusing\n\t\tif (!this.extent_calcuted) {\n\t\t\tthis.extent = this.getExtent(data.features);\n\t\t\tthis.extent_calcuted = true;\n\t\t}\n\n\t\t// calculate circle size\n\t\tdata.features.forEach((d,i) => {\n\t\t\tconst radius = this.mapRange(this.extent, this.range, d.properties.CURRENT_SI);\n\t\t\td.properties.radius = Math.log(radius) * 4;\n\t\t});\n\n\t\t// reorder array by CURRENT_SI, largest -> smallest\n\t\tdata.features.sort((a,b) => {\n\t\t\treturn b.CURRENT_SI - a.CURRENT_SI;\n\t\t});\n\t}\n\n\tsetupPopupHandlers() {\n\t\t// show & hide the popup\n\t\tthis.map.on('click', 'wildfires', this.showPopup);\n\t\tthis.map.on('mouseenter', 'wildfires', this.showPopup);\n\t\tthis.map.on('mouseleave', 'wildfires', this.hidePopup);\n\t\t// this.map.on('mouseenter', 'evacs_alerts', this.showPopup);\n\t\t// this.map.on('mouseleave', 'evacs_alerts', this.hidePopup);\n\t\t\n\t\t// Change the cursor to a pointer when the mouse is over the places layer.\n\t\tthis.map.on('mouseenter', 'places', function () {\n\t\t\tthis.map.getCanvas().style.cursor = 'pointer';\n\t\t});\n\t\t \n\t\t// Change it back to a pointer when it leaves.\n\t\tthis.map.on('mouseleave', 'places', function () {\n\t\t\tthis.map.getCanvas().style.cursor = '';\n\t\t});\n\t}\n\n\tsetupPopupText(properties) {\n\t\treturn WildfireTooltip(properties);\n\t}\n\n\tshowPopup(e, sidebarClick) {\n\t\t// console.log(e)\n\t\tlet coords, text;\n\n\t\tif (sidebarClick) {\n\t\t\tcoords = {\n\t\t\t\tlng: e.geometry.coordinates[0],\n\t\t\t\tlat: e.geometry.coordinates[1]\n\t\t\t}\n\t\t\ttext = this.setupPopupText(e.properties);\n\t\t} else {\n\t\t\tcoords = e.lngLat;\n\t\t\ttext = this.setupPopupText(e.features[0].properties);\n\t\t}\n\t\t// change cursor style as UI indicator\n\t\tthis.map.getCanvas().style.cursor = 'pointer';\n\n\t\t// set coords based on mouse position\n\t\tthis.popup.setLngLat(coords)\n\t\t\t// popup content to be displayed\n\t\t\t.setHTML(text)\n\t\t\t.addTo(this.map)\n\t}\n\n\trenderMap(data) {\n\t\tthis.prepData(data);\n\n\t\t// add fire location\n\t\tthis.map.on('load', () => {\n\t\t\t// Find the first symbol layer in the map style so we can keep them on top\n\t\t\tlet firstSymbolId;\n\t\t\tconst layers = this.map.getStyle().layers;\n\t\t\t\n\t\t\tfor (let i = 0; i < layers.length; i++) {\n\t\t\t\tif (layers[i].type === 'symbol') {\n\t\t\t\t\tfirstSymbolId = layers[i].id;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// add firesmoke\n\t\t\tthis.addFiresmokeLayer(this.props.fireSmokeUrl, firstSymbolId);\n\n\t\t\t// Evac and alerts\n\t\t\tthis.addEvacsAlerts(this.props.evacsAlerts, firstSymbolId)\n\n\t\t\t// wildfires\n\t\t\tthis.addWildfireLayer(data, firstSymbolId)\n\n\t\t\t// Add zoom and rotation controls to the map.\n\t\t\tthis.map.addControl(new maplibregl.NavigationControl());\n\n\t\t\t// event handlers for popup\n\t\t\tthis.setupPopupHandlers();\n\t\t});\n\n\t\tthis.setState({\n\t\t\tmapIsLoaded: true\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div ref={el => this.mapContainer = el} />\n\t\t\t\t<div className=\"legend-container\">\n\t\t\t\t\t<p className=\"legend-title\">PM<span className=\"sub\">2.5</span> (µg/m<span className=\"super\">3</span>)</p>\n\t\t\t\t\t<img id=\"firesmoke-legend\" src={legend} />\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\nexport default CircleMap;","import React from 'react';\nimport './SummaryBox.css';\n\nconst SummaryBox = (props) => {\n\tconst fire_stats = calculateFireStats(props);\n\n\treturn (\n\t\t<div className=\"summary-box\" onClick={props.toggleFireTypeHandler}>\n\t\t\t{/*<h2>Latest wildfire stats</h2>*/}\n\t\n\t\t\t<div className=\"stat-box\">\n\t\t\t\t<div className=\"stat\">\n\t\t\t\t\t<p className=\"big-num new\">{fire_stats.new_fires}</p>\n\t\t\t\t\t<p className=\"label\">Active</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"stat\">\n\t\t\t\t\t<p className=\"big-num being-held\">{fire_stats.held_fires}</p>\n\t\t\t\t\t<p className=\"label\">Held</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"stat\">\n\t\t\t\t\t<p className=\"big-num under-control\">{fire_stats.controlled_fires}</p>\n\t\t\t\t\t<p className=\"label\">Control</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"stat\">\n\t\t\t\t\t<p className=\"big-num out\">{fire_stats.out_fires}</p>\n\t\t\t\t\t<p className=\"label\">Out*</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p className=\"last-update\">Last updated: {fire_stats.last_update}</p>\n\t\t\t<p className=\"note\">Source: <a href=\"https://catalogue.data.gov.bc.ca/dataset/fire-locations-current\" target=\"_blank\">B.C. Wildfire Service</a>. PM2.5 estimates show maximum daily values from <a href=\"https://firesmoke.ca/\" target=\"_blank\">FireSmoke Canada</a>. NOTE: ‘Active‘ fires include those classified as new, of note, and out of control. *Tap to toggle views.</p>\n\t\t</div>\n\t);\n}\n\nfunction calculateFireStats(props) {\n\tlet stats = {\n\t\tout_fires: 0,\n\t\tnew_fires: 0,\n\t\theld_fires: 0,\n\t\tcontrolled_fires: 0,\n\t\tlast_update: 'Waiting for data...'\n\t}\n\t\n\tif (props.data.features) {\n\t\tconst data = props.data.features;\n\n\t\tlet hectares_burned = data.reduce((sum, item) => {\n\t\t\treturn sum + parseFloat(item.properties.CURRENT_SI);\n\t\t}, 0);\n\n\t\tstats.km_burned = (hectares_burned / 100).toFixed(0);\n\t\tstats.total_fires = data.length + 1;\n\n\t\tstats.last_update = data.length > 0 ? returnCurrentTime(data[0].properties.last_update) : 'Not available';\n\n\t\tfor (let i = 0; i < data.length; ++i) {\n\t\t\tif (data[i].properties.FIRE_STATU === 'New' | data[i].properties.FIRE_STATU === 'Out of Control' | data[i].properties.FIRE_STATU === 'Fire of Note') {\n\t\t\t\tstats.new_fires++;\n\t\t\t} else if (data[i].properties.FIRE_STATU === 'Being Held') {\n\t\t\t\tstats.held_fires++;\n\t\t\t} else if (data[i].properties.FIRE_STATU === 'Under Control') {\n\t\t\t\tstats.controlled_fires++;\n\t\t\t} else {\n\t\t\t\tstats.out_fires++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn stats;\n}\n\nfunction returnCurrentTime(ts) {\n\tconst timestamp = new Date(parseInt(ts));\n\tconst month = returnMonth(timestamp.getUTCMonth());\n\n\treturn `${month} ${timestamp.toLocaleDateString().split('/')[1]}, ${timestamp.getUTCFullYear()} at ${timestamp.toLocaleTimeString()}`\n}\n\nfunction returnMonth(month_num) {\n\tconst month_lookup = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n\treturn month_lookup[parseInt(month_num)];\n}\n\n\nexport default SummaryBox;\n","import React from 'react';\nimport './FireListing.css';\n\n\nlet buttonStatus = 'open';\nconst FireListing = (props) => {\n\t// console.log(props.data)\n\tlet list;\n\tconst fon = props.data.length > 0 ? props.data.filter(d => d.properties.FIRE_STATU === 'Fire of Note') : [];\n\n\t// NO FON? HIDE SIDEBAR\n\tif (fon.length > 0) {\n\t\t// YES FON\n\t\tlist = fon.sort((a,b) => {\n\t\t\t\treturn b.properties.CURRENT_SI - a.properties.CURRENT_SI\n\t\t\t})\n\t\t\t.map(d => {\n\t\t\t\treturn ListItem(d.properties, props.flyToLocation);\n\t\t\t});\t\n\t} else {\n\t\t// hide sidebar\n\t\tlist = <li className=\"no-fires\">Currently there are no fires of note in B.C.</li>\n\t}\n\n\n\treturn (\n\t\t<div className=\"sidebar\">\n\t\t\t<div className=\"header\">\n\t\t\t\t<h2>Fires of Note</h2>\n\t\t\t\t<div className=\"button\">\n\t\t\t\t\t<input type=\"checkbox\" id=\"switch\" className=\"open\" onChange={toggleSidebar} /><label htmlFor=\"switch\"></label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ul id=\"listings\" className={`listings ${buttonStatus}`}>\n\t\t\t\t{list}\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n\nfunction ListItem(data, clickHandler) {\n\tconst size = Math.round((data.CURRENT_SI / 100) * 10) / 10;\n\tconst name = data.FIRE_NT_NM; // data.fire_name.split(' (')[0]\n\n\t// console.log(name, data)\n\n\tconst sizeText = size > 0.1 ? `${size} sq. km` : 'Spot fire';\n\treturn (\n\t\t<li key={data.FIRE_NUMBE} id={data.fire_id} className=\"item\" onClick={clickHandler}>\n\t\t\t<h4 className=\"title\">{name}</h4>\n\t\t\t<p className=\"size\">{sizeText}</p>\n\t\t\t<p className=\"location\">{data.location}</p>\n\t\t</li>\n\t);\n}\n\nfunction toggleSidebar(e) {\n\t// console.log(e)\n\tconst sidebar = document.getElementById('listings');\n\n\tif (buttonStatus === 'open') {\n\t\te.target.className = 'closed';\n\t\tsidebar.className = 'listings closed';\n\t\tbuttonStatus = 'closed';\n\t} else {\n\t\te.target.className = 'open';\n\t\tsidebar.className = 'listings open';\n\t\tbuttonStatus = 'open';\n\t}\n}\n\nexport default FireListing;\n","import React, { Component, Fragment } from 'react';\nimport CircleMap from '../CircleMap/CircleMap';\nimport SummaryBox from '../SummaryBox/SummaryBox';\nimport FireListing from '../FireListing/FireListing';\nimport './WildfireMap.css';\n\n\nlet zoom = window.innerWidth > 400 ? 5 : 4;\nlet center = window.innerWidth > 400 ? [51.5, -124] : [54, -125];\n\nexport class WildfireTracker extends Component {\n\tmap_options = {\n\t\tcenter: center,\n\t\tclassField: 'FIRE_STATU',\n\t\tmaxZoom: 10,\n\t\tminZoom: 3,\n\t\tzoom: zoom\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<h1>B.C. Wildfire Tracker</h1>\n\n\t\t\t\t<CircleMap\n\t\t\t\t\tcenter={this.map_options.center}\n\t\t\t\t\tcircleMarkerClassField={this.map_options.classField}\n\t\t\t\t\tconfig={this.props.config}\n\t\t\t\t\tcontainer=\"mapview\"\n\t\t\t\t\tdata={this.props.data}\n\t\t\t\t\tevacsAlerts={this.props.data_evacs}\n\t\t\t\t\tfireSmokeUrl={this.props.fireSmokeUrl}\n\t\t\t\t\tmapboxStyle={this.props.mapboxStyle}\n\t\t\t\t\tmaxZoom={this.map_options.maxZoom}\n\t\t\t\t\tminZoom={this.map_options.minZoom}\n\t\t\t\t\tselectedFeature={this.props.selectedFeature}\n\t\t\t\t\tzoom={this.map_options.zoom}>\n\t\t\t\t</CircleMap>\n\n\t\t\t\t<SummaryBox\n\t\t\t\t\tdata={this.props.data_all}\n\t\t\t\t\ttoggleFireTypeHandler={this.props.toggleFireTypeHandler}>\n\t\t\t\t</SummaryBox>\n\n\t\t\t\t<FireListing\n\t\t\t\t\tdata={this.props.data_fon}\n\t\t\t\t\tflyToLocation={this.props.flyToLocation}>\n\t\t\t\t</FireListing>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\nexport default WildfireTracker;\n","import React, { Component, Fragment } from 'react';\nimport Axios from 'axios'\nimport WildfireMap from '../WildfireMap/WildfireMap';\n\nexport class WildfireTracker extends Component {\n\n\tstate = {\n\t\tdata: [],\n\t\tdata_all: [],\n\t\tdata_fon: [],\n\t\tselected_feature: null\n\t}\n\n\tcomponentDidMount() {\n\t\tAxios.get(this.props.currentData)\n\t\t\t.then(resp => {\n\t\t\t\t// filter \"out\" fires so they don't overwhelm map\n\t\t\t\tconst noOut = {\n\t\t\t\t\ttype: 'FeatureCollection',\n\t\t\t\t\tfeatures: resp.data.features.filter(d => d.properties.FIRE_STATU !== 'Out')\n\t\t\t\t};\n\n\t\t\t\t// update our state with the new data\n\t\t\t\tthis.setState({\n\t\t\t\t\tdata: noOut,\n\t\t\t\t\tdata_all: resp.data,\n\t\t\t\t});\n\t\t\t\t// prep the fires of Note\n\t\t\t\tthis.setupFiresOfNote(resp.data);\n\n\t\t\t\t// download alert & evacuation perimeter data\n\t\t\t\tthis.fetchEvacs(this.props.evacsAlerts);\n\t\t\t});\n\n\t\tthis.flyToLocation = this.flyToLocation.bind(this);\n\t\tthis.toggleFireTypeHandler = this.toggleFireTypeHandler.bind(this);\n\t}\n\n\tfetchEvacs(url) {\n\t\tAxios.get(url)\n\t\t\t.then(results => {\n\t\t\t\tif (results.status === 200) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tdata_evacs: results.data\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tsetupFiresOfNote(data) {\n\t\tconst promises = [];\n\n\t\tpromises.push(Axios.get(this.props.fonData));\n\t\t// promises.push(Axios.get(this.props.firePerimeters));\n\n\t\tAxios.all(promises)\n\t\t\t.then(results => {\n\t\t\t\t// separate our results\n\t\t\t\tconst fon_data = results.filter(d => d.config.url.includes('fon.json'))[0].data;\n\t\t\t\t// const perim_data = results.filter(d => d.config.url.includes('perimeters.json'))[0].data;\n\n\t\t\t\t// get fons from the main data set & merge the details\n\t\t\t\tconst fires_of_note = data.features.filter(d => {\n\t\t\t\t\tif (d.properties.FIRE_STATU === 'Fire of Note') {\n\t\t\t\t\t\t// get details of the fire of note\n\t\t\t\t\t\tconst fon = fon_data.filter(fon => fon.fire_id === d.properties.FIRE_NT_ID)[0];\n\n\t\t\t\t\t\t// merge data\n\t\t\t\t\t\td.properties = {...fon, ...d.properties};\n\n\t\t\t\t\t\treturn d;\n\t\t\t\t\t}\n\t\t\t\t}).filter(d => d.properties.fire_name);\n\n\t\t\t\t// update our state with the new data \n\t\t\t\tthis.setState({\n\t\t\t\t\tdata_fon: fires_of_note\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tfilterFireData(fire_class) {\n\t\t// currently, 'new' & 'out-of-control' fires are listed as new. Not sure if this is ideal. \n\t\tif (fire_class === 'new') {\n\t\t\tlet data_array = [];\n\t\t\tthis.state.data_all.features.forEach(d => {\n\t\t\t\tconst fire_status = d.properties.FIRE_STATU.replace(/\\s/g, '-').toLowerCase();\n\n\t\t\t\tif (fire_status === fire_class | fire_status === 'out-of-control') {\n\t\t\t\t\tdata_array.push(d);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn data_array;\n\t\t} else {\n\t\t\treturn this.state.data_all.features.filter(d => d.properties.FIRE_STATU.replace(/\\s/g, '-').toLowerCase() === fire_class);\n\t\t}\n\t}\n\n\tflyToLocation(e) {\n\t\t// console.log(e.target.parentNode.id)\n\t\tthis.setState({\n\t\t\tselected_feature: this.state.data_fon.filter(d => parseInt(d.properties.fire_id) === parseInt(e.target.parentNode.id))[0]\n\t\t});\n\t}\n\n\ttoggleFireTypeHandler(e) {\n\t\tlet fire_data = {\n\t\t\ttype: 'FeatureCollection'\n\t\t};\n\t\tlet fire_class = e.target.className.split(' ')[1];\n\n\n\t\tif (fire_class === this.state.data_displayed) {\n\t\t\t// keep \n\t\t\tfire_data.features = this.state.data_all.features.filter(d => d.properties.FIRE_STATU !== 'Out');\n\t\t\t// reset\n\t\t\tfire_class = null;\n\t\t} else if (fire_class === 'out') {\n\t\t\t// console.log('OUT')\n\t\t\tfire_data = this.state.data_all;\n\t\t} else {\n\t\t\tfire_data.features = this.filterFireData(fire_class);\n\t\t}\n\n\t\tthis.setState({\n\t\t\tdata_displayed: fire_class,\n\t\t\tdata: fire_data\n\t\t});\n\t}\n\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<WildfireMap \n\t\t\t\t\tconfig={this.props.mapboxConfig}\n\t\t\t\t\tselectedFeature={this.state.selected_feature}\n\t\t\t\t\tdata={this.state.data}\n\t\t\t\t\tdata_all={this.state.data_all}\n\t\t\t\t\tdata_evacs={this.state.data_evacs}\n\t\t\t\t\tdata_fon={this.state.data_fon}\n\t\t\t\t\tfireSmokeUrl={this.props.fireSmokeUrl}\n\t\t\t\t\tmapboxStyle={this.props.mapboxStyle}\n\t\t\t\t\ttiles={this.props.tiles}\n\t\t\t\t\tflyToLocation={this.flyToLocation}\n\t\t\t\t\ttoggleFireTypeHandler={this.toggleFireTypeHandler}>\n\t\t\t\t</WildfireMap>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default WildfireTracker;","const mapbox_config = {\n\t\"accessToken\": \"pk.eyJ1IjoibmdyaWZmaXRocy1wb3N0bWVkaWEiLCJhIjoiY2p5eWluaDR1MHoycTNpbnZhYnE1ZGJ5YyJ9.ky9G5qVIJn0gz_y7tULp6Q\"\n};\n\nexport default mapbox_config;","import React from 'react';\nimport WildfireTracker from '../WildfireTracker/WildfireTracker';\nimport './App.css';\nimport mapboxConfig from '../../data/mapbox-config';\n\n\n// Wildfires url\nconst currentFiresURL = 'https://vs-postmedia-data.sfo2.digitaloceanspaces.com/wildfires.json';\n// Fires of note\nconst firesOfNoteURL = 'https://vs-postmedia-data.sfo2.digitaloceanspaces.com/fon.json';\n// Fire perimeters\nconst firePerimeters = 'https://vs-postmedia-data.sfo2.digitaloceanspaces.com/perimeters.json';\n// evacuation order & alert perimeters\nconst evacsAlertsUrl = 'https://services6.arcgis.com/ubm4tcTYICKBpist/arcgis/rest/services/Evacuation_Orders_and_Alerts/FeatureServer/0/query?f=pgeojson&where=1=1&outFields=ORDER_ALERT_STATUS,SHAPE__AREA,EVENT_TYPE';\n// firesmoke png file\nconst fireSmokeUrl = 'https://vs-postmedia-data.sfo2.digitaloceanspaces.com/wildfires/fire-smoke-max.png';\n// const fireSmokeUrl = 'https://vs-postmedia-data.sfo2.digitaloceanspaces.com/wildfires/daily_maximum_20210714.png'\n\n// map tiles & attribution\nconst mapboxStyle = 'https://api.maptiler.com/maps/outdoor/style.json?key=pRmETZ6APJE6l5kAzesF';\n\n\nfunction App() {\n\treturn (\n\t\t<WildfireTracker\n\t\t\tcurrentData={currentFiresURL}\n\t\t\tevacsAlerts={evacsAlertsUrl}\n\t\t\tfireSmokeUrl={fireSmokeUrl}\n\t\t  \tfonData={firesOfNoteURL}\n\t\t\tfirePerimeters={firePerimeters}\n\t\t\tmapboxConfig={mapboxConfig}\n\t\t\tmapboxStyle={mapboxStyle}>\n\t\t</WildfireTracker>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\n// FONTS\nimport './fonts/BentonSansCond-Regular.otf';\nimport './fonts/BentonSansCond-RegItalic.otf';\nimport './fonts/BentonSansCond-Bold.otf';\nimport './fonts/BentonSansCond-BoldItalic.otf';\nimport './fonts/Shift-Bold.otf';\nimport './fonts/Shift-BoldItalic.otf';\n\n\n// CSS\nimport './css/index.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}